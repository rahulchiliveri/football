<!doctype html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YQ1TL3G0V9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-YQ1TL3G0V9');
</script>
  <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M2MQWCSL');</script>
<!-- End Google Tag Manager -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>KickOff Jerseys â€” Products</title>
  <style>
    :root{--brand:#0d47a1;--accent:#ffca28;--bg:#f5f7fb}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Arial,sans-serif;background:var(--bg);color:#111}
    header{position:sticky;top:0;background:#fff;z-index:50;box-shadow:0 4px 18px rgba(10,10,40,.06)}
    .nav{display:flex;align-items:center;justify-content:space-between;padding:12px 20px}
    .search{max-width:520px;width:60%}
    .search input{width:100%;padding:10px;border-radius:10px;border:1px solid #ddd}

    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:18px;padding:18px}
    .prod{background:#fff;padding:12px;border-radius:12px;box-shadow:0 6px 18px rgba(12,12,30,.06);transition:transform .18s}
    .prod:hover{transform:translateY(-8px)}
    .prod img{width:100%;height:200px;object-fit:cover;border-radius:8px}
    .btn{display:inline-block;padding:8px 12px;border-radius:8px;text-decoration:none;font-weight:700}
    .add{background:var(--brand);color:#fff}

    /* cart drawer button */
    .cart-btn{position:fixed;right:18px;bottom:18px;background:var(--accent);padding:12px 14px;border-radius:999px;box-shadow:0 10px 30px rgba(13,71,161,.12);cursor:pointer;font-weight:800}

    @media(max-width:720px){.search{width:100%}}
  </style>
</head>
<body>
  <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M2MQWCSL"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
  <header class="nav">
    <div class="logo" style="font-weight:800;color:var(--brand)">KickOff Jerseys</div>
    <div class="search"><input id="search" placeholder="Search team, player or kit..." oninput="liveSearch()" /></div>
    <nav>
      <a href="index.html">Home</a>
      <a href="products.html">Products</a>
      <a href="#" onclick="toggleDrawer(event)">Cart</a>
    </nav>
  </header>

  <main>
    <section style="padding:14px 18px;display:flex;gap:12px;flex-wrap:wrap;align-items:center">
      <button onclick="filterBy('all')" class="btn">All</button>
      <button onclick="filterBy('home')" class="btn">Home</button>
      <button onclick="filterBy('away')" class="btn">Away</button>
      <button onclick="filterBy('retro')" class="btn">Retro</button>
      <select id="teamFilter" onchange="filterTeam(this.value)">
        <option value="all">All teams</option>
        <option value="barca">FC Barcelona</option>
        <option value="madrid">Real Madrid</option>
        <option value="city">Man City</option>
      </select>
    </section>

    <section class="grid" id="grid"></section>
  </main>

  <!-- cart drawer -->
  <div id="drawer" style="position:fixed;right:-420px;top:0;width:380px;height:100%;background:#fff;box-shadow:-10px 0 30px rgba(0,0,0,.12);transition:right .28s;padding:18px;overflow:auto;z-index:999">
    <h3>Your Cart</h3>
    <div id="cartItems"></div>
    <div style="margin-top:12px"><strong>Total: </strong><span id="total">â‚¹0</span></div>
    <div style="margin-top:12px"><a href="https://football-psi-neon.vercel.app/payment.html" class="btn add" style="text-decoration:none">Proceed to payment</a></div>
  </div>

  <button class="cart-btn" onclick="toggleDrawer()">ðŸ›’</button>

  <script>
    // product data
    const products=[
      {id:1,title:'FC Barcelona Home 25',tag:'home',team:'barca',price:4999,img:'https://source.unsplash.com/800x600/?barcelona,jersey'},
      {id:2,title:'Real Madrid Away 25',tag:'away',team:'madrid',price:4799,img:'https://source.unsplash.com/800x600/?realmadrid,jersey'},
      {id:3,title:'City Retro 90s',tag:'retro',team:'city',price:3499,img:'https://source.unsplash.com/800x600/?mancity,jersey'},
      {id:4,title:'Classic Stripes',tag:'home',team:'generic',price:2999,img:'https://source.unsplash.com/800x600/?football,retro'}
    ];

    const grid=document.getElementById('grid');
    function render(list=products){ grid.innerHTML=''; list.forEach(p=>{ const d=document.createElement('div'); d.className='prod'; d.innerHTML=`<img src='${p.img}' alt='${p.title}'><h4 style='margin:10px 0 6px'>${p.title}</h4><div style='font-weight:700'>â‚¹${p.price}</div><div style='margin-top:10px'><button class='btn add' onclick='addToCart(${p.id})'>Add to cart</button></div>`; grid.appendChild(d); }) }
    render();

    // live search & filters
    function liveSearch(){ const q=document.getElementById('search').value.toLowerCase(); const filtered=products.filter(p=>p.title.toLowerCase().includes(q) || p.team.includes(q)); render(filtered); }
    function filterBy(t){ render(t==='all'?products:products.filter(p=>p.tag===t)) }
    function filterTeam(t){ render(t==='all'?products:products.filter(p=>p.team===t)) }

    // cart logic
    function getCart(){return JSON.parse(localStorage.getItem('kk_cart')||'[]')}
    function saveCart(c){localStorage.setItem('kk_cart',JSON.stringify(c)); updateCartUI()}
    function addToCart(id){ const p=products.find(x=>x.id===id); if(!p) return; const c=getCart(); const ex=c.find(i=>i.id===id); if(ex) ex.qty++; else c.push({id:p.id,title:p.title,price:p.price,qty:1}); saveCart(c); alert('Added to cart') }
    function updateCartUI(){ const c=getCart(); const el=document.getElementById('cartItems'); el.innerHTML=''; let total=0; c.forEach(i=>{ total+=i.price*i.qty; const row=document.createElement('div'); row.style.marginBottom='10px'; row.innerHTML=`<div style="font-weight:700">${i.title}</div><div>Qty: ${i.qty} â€¢ â‚¹${i.price*i.qty} <button onclick='remove(${i.id})' style='margin-left:8px'>Remove</button></div>`; el.appendChild(row) }); document.getElementById('total').textContent='â‚¹'+total }
    function remove(id){ let c=getCart(); c=c.filter(i=>i.id!==id); saveCart(c) }

    // drawer toggle
    function toggleDrawer(){ const d=document.getElementById('drawer'); d.style.right= d.style.right==='0px'?'':'0px'; if(d.style.right==='0px') updateCartUI(); }

    // initialize counts
    updateCartUI();

    // smooth page transitions (simple fade)
    document.addEventListener('click', e=>{ const a=e.target.closest('a'); if(a && a.href && a.getAttribute('target')!=="_blank" && a.getAttribute('href') && !a.getAttribute('href').startsWith('#')){ e.preventDefault(); document.body.style.opacity=0; setTimeout(()=> location.href=a.getAttribute('href'),220) }});
  </script>
  <script>
const products=[
  {id:1,title:'FC Barcelona Home 25',tag:'home',team:'barca',price:4999,img:'https://images.unsplash.com/photo-1621924735965-bb0d6d9b2c8f?auto=format&fit=crop&w=800&q=80'},
  {id:2,title:'Real Madrid Away 25',tag:'away',team:'madrid',price:4799,img:'https://images.unsplash.com/photo-1599058917210-78fbc3a7d3d5?auto=format&fit=crop&w=800&q=80'},
  {id:3,title:'City Retro 90s',tag:'retro',team:'city',price:3499,img:'https://images.unsplash.com/photo-1603033794087-256f26f81387?auto=format&fit=crop&w=800&q=80'},
  {id:4,title:'Classic Stripes',tag:'home',team:'generic',price:2999,img:'https://images.unsplash.com/photo-1617717835447-27dbf3c10e5e?auto=format&fit=crop&w=800&q=80'}
];
const grid=document.getElementById('grid');

function render(list=products){
  grid.innerHTML='';
  list.forEach(p=>{
    const d=document.createElement('div');
    d.className='prod';
    d.innerHTML=`
      <img src='${p.img}' alt='${p.title}'>
      <h4 style='margin:10px 0 6px'>${p.title}</h4>
      <div style='font-weight:700'>â‚¹${p.price}</div>
      <div style='margin-top:10px'>
        <button class='btn add' onclick='addToCart(${p.id})'>Add to cart</button>
      </div>`;
    grid.appendChild(d);
  });
}

// Filters
function liveSearch(){
  const q=document.getElementById('search').value.toLowerCase();
  const filtered=products.filter(p=>p.title.toLowerCase().includes(q) || p.team.includes(q));
  render(filtered);
}
function filterBy(tag){
  render(tag==='all'?products:products.filter(p=>p.tag===tag));
}
function filterTeam(team){
  render(team==='all'?products:products.filter(p=>p.team===team));
}

// Cart logic
function getCart(){ return JSON.parse(localStorage.getItem('kk_cart')||'[]'); }
function saveCart(c){ localStorage.setItem('kk_cart',JSON.stringify(c)); updateCartUI(); }
function addToCart(id){
  const p=products.find(x=>x.id===id);
  if(!p) return;
  const c=getCart();
  const ex=c.find(i=>i.id===id);
  if(ex) ex.qty++; else c.push({id:p.id,title:p.title,price:p.price,qty:1});
  saveCart(c);
  alert('Added to cart');
}
function updateCartUI(){
  const c=getCart();
  const el=document.getElementById('cartItems');
  el.innerHTML='';
  let total=0;
  c.forEach(i=>{
    total+=i.price*i.qty;
    const row=document.createElement('div');
    row.style.marginBottom='10px';
    row.innerHTML=`<div style="font-weight:700">${i.title}</div><div>Qty: ${i.qty} â€¢ â‚¹${i.price*i.qty} <button onclick='remove(${i.id})' style='margin-left:8px'>Remove</button></div>`;
    el.appendChild(row);
  });
  document.getElementById('total').textContent='â‚¹'+total;
}
function remove(id){ let c=getCart(); c=c.filter(i=>i.id!==id); saveCart(c); }

// Cart drawer toggle
function toggleDrawer(){
  const d=document.getElementById('drawer');
  if(d.style.right==='0px'){ d.style.right='-420px'; } else { d.style.right='0px'; updateCartUI(); }
}

render();
updateCartUI();

// Smooth page transitions
document.addEventListener('click', e=>{
  const a=e.target.closest('a');
  if(a && a.href && a.getAttribute('target')!=="_blank" && a.getAttribute('href') && !a.getAttribute('href').startsWith('#')){
    e.preventDefault();
    document.body.style.opacity=0;
    setTimeout(()=> location.href=a.getAttribute('href'),220)
  }
});
</script>
</body>
</html>
